{{ $disableImageOptimization := .Site.Params.disableImageOptimization | default false }}
<article class="{{ if not .Site.Params.homepage.showRecent }} h-full {{ end }} flex flex-col items-center justify-center text-center">
  <div class="fixed inset-x-0 top-0 -z-10">
    {{ $homepageImage := "" }}
    {{ with .Site.Params.defaultBackgroundImage }}
      {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
        {{ $homepageImage = resources.GetRemote . }}
      {{ else }}
        {{ $homepageImage = resources.Get . }}
      {{ end }}
    {{ end }}
    {{ with .Site.Params.homepage.homepageImage }}
      {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
        {{ $homepageImage = resources.GetRemote . }}
      {{ else }}
        {{ $homepageImage = resources.Get . }}
      {{ end }}
    {{ end }}
    {{ if $homepageImage }}
      <img class="w-full h-[1000px] invert contrast-100 brightness-250 dark:invert-0 dark:contrast-100 dark:brightness-100 object-cover nozoom" src="{{ $homepageImage.RelPermalink }}" role="presentation" />
      <div class="opacity-60 absolute inset-0 h-[1000px] bg-gradient-to-t from-secondary-50 dark:from-neutral-800 to-primary-100 dark:to-transparent mix-blend-normal"></div>
      <div class="opacity-60 dark:opacity-30 absolute inset-0 h-[1000px] bg-gradient-to-t from-primary-50 dark:from-primary-700 to-secondary-50 dark:to-neutral-800 mix-blend-normal"></div>
    {{ end }}
  </div>
  <header class="relative h-full w-full 2xl:px-4 py-10 2xl:max-w-5/6 mx-auto flex flex-col lg:flex-row items-center justify-center xl:gap-6">
    <!-- Left Column -->
    <div class="w-full max-w-sm py-6 rounded-2xl flex flex-col items-center text-center backdrop-blur-md rounded-3xl border border-neutral-400 dark:border-neutral-800 ">
      {{ with .Site.Params.Author.image }}
        {{ $authorImage := "" }}
        {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
          {{ $authorImage = resources.GetRemote . }}
        {{ else }}
          {{ $authorImage = resources.Get . }}
        {{ end }}
        {{ if $authorImage }}
          {{ if not $disableImageOptimization }}
            {{ $authorImage = $authorImage.Fill (print "720x720 q" ( $.Site.Params.Author.imagequality | default "96" )) }}
          {{ end }}
          <img class="my-4 rounded-2xl h-84 w-64 object-cover" width="384" height="512" alt="{{ $.Site.Params.Author.name | default " Author" }}" src="{{ $authorImage.RelPermalink }}" />
        {{ end }}
      {{ end }}
      <h1 class="py-2 text-2xl font-bold text-neutral-700 dark:text-neutral-200">
        {{ .Site.Params.Author.name | default .Site.Title }}
      </h1>
      {{ with .Site.Params.Author.headline }}
      <h2 class="text-lg text-neutral-600 dark:text-neutral-400">
        {{ . | markdownify }}
      </h2>
      {{ end }}
      <div class="mt-3 text-xl">
        {{ partialCached "author-links.html" . }}
      </div>
      <div class="pt-8 pb-6">
        <a class="rounded-md bg-primary-700 px-4 py-2 text-neutral no-underline hover:bg-primary-400 dark:bg-primary-700 dark:hover:bg-primary-400" href="#button" target="_blank" role="button">
          Download CV
        </a>
      </div>
    </div>

    <!-- Right Column -->
    <div class="h-full w-full pt-10 items-start text-left">
      <div class="font-medium px-6 flex flex-wrap gap-2 mb-6">
        <a id="tabBtn1" class="backdrop-blur-2xl border border-neutral-700 rounded-2xl px-4 py-1 text-neutral-700 dark:text-neutral-400 no-underline hover:text-primary-700 hover:border-primary-700 dark:hover:text-primary-400 dark:hover:border-primary-400" onclick="switchTab(1)">
          Me</a>
        <a id="tabBtn2" class="backdrop-blur-2xl border border-neutral-700 rounded-2xl px-4 py-1 text-neutral-700 dark:text-neutral-400 no-underline hover:text-primary-700 hover:border-primary-700 dark:hover:text-primary-400 dark:hover:border-primary-400" onclick="switchTab(2)">
          Portfolio</a>
        <a id="tabBtn3" class="backdrop-blur-2xl border border-neutral-700 rounded-2xl px-4 py-1 text-neutral-700 dark:text-neutral-400 no-underline hover:text-primary-700 hover:border-primary-700 dark:hover:text-primary-400 dark:hover:border-primary-400" onclick="switchTab(3)">
          Resume</a>
        <a class="backdrop-blur-2xl border border-neutral-700 rounded-2xl px-4 py-1 text-neutral-700 dark:text-neutral-400 no-underline hover:bg-primary-500 dark:hover:bg-primary-400">
          Skills</a>
      </div>
      <!-- Content Container -->
      <div class="min-h-144 w-full backdrop-blur-md rounded-3xl overflow-hidden">
        <!-- Me -->
        <div id="tab1" class="tab-pane lg:absolute lg:inset-0 lg:transition-all lg:duration-500 lg:ease-in-out lg:transform lg:translate-y-0 lg:opacity-100 lg:visible lg:z-10 px-6 py-3 h-full overflow-y-auto scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
          <h1 class="myeffect text-base md:text-xl xl:text-2xl text-neutral-700 dark:text-neutral-400 flex items-center gap-1">
            Hello, I'm
            <span class="ml-1 relative overflow-hidden text-primary-700 dark:text-primary-400">
              <ol class="m-0 p-0">
                <li><span>Hazel Pernanda Putra</span></li>
                <li><span>Computer Vision Engineer</span></li>
                <li><span>Machine Learning Engineer</span></li>
                <li><span>Anjayy</span></li>
              </ol>
            </span>
          </h1>
          <h1 class="text-3xl xl:text-5xl text-neutral-700 dark:text-neutral-200 font-bold leading-tight">
            <a class="bg-primary-600/80 text-neutral-50 dark:text-neutral-200">Computer Vision</a> Enthusiast,
            Student of Bachelor Mathematics
            Padjadjaran University, Indonesia
          </h1>
          <article class="mt-4 text-base sm:text-lg text-neutral-700 dark:text-neutral-300 leading-relaxed max-w-3xl">
            <p>
              Lorem ipsum dolor, sit amet consectetur adipisicing elit. Velit at corporis rem numquam debitis, temporibus asperiores sequi expedita pariatur reiciendis alias id soluta unde nam dolorum, tempora laboriosam in amet.
            </p>
            <div class="flex flex-row justify-center gap-4 mt-6">
              <div class="border p-4 text-3xl sm:text-5xl text-neutral-600 dark:text-neutral-400">1</div>
              <div class="border p-4 text-3xl sm:text-5xl text-neutral-600 dark:text-neutral-400">2</div>
              <div class="border p-4 text-3xl sm:text-5xl text-neutral-600 dark:text-neutral-400">3</div>
            </div>
          </article>
        </div>
        <!-- Portfolio -->
        <div id="tab2" class="tab-pane lg:absolute lg:inset-0 lg:transition-all lg:duration-500 lg:ease-in-out lg:transform lg:translate-y-4 lg:opacity-0 lg:invisible lg:z-0 px-6 py-3 h-full overflow-y-auto scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
          <span class="relative inline-block text-3xl mt-4 tracking-widest font-medium mb-4">
            <span class="px-3 relative z-10">
              <a class="text-5xl">P</a>ORTOFOLIO
            </span>
            <span class="h-6 w-6 absolute inset-0 z-15 bg-primary-700 dark:bg-primary-400 opacity-60"></span>
            <span class="h-3 w-4 absolute right-0 bottom-0 z-0 bg-primary-700 dark:bg-primary-400 opacity-60 pr-20"></span>
          </span>
          <section class="mt-4">
            {{ .Content }}
          </section>
        </div>
        <!--  -->
        <section class="prose dark:prose-invert px-4 w-full max-w-5xl mx-auto">
        </section>
        <div id="tab3" class="tab-pane lg:absolute lg:inset-0 lg:transition-all lg:duration-500 lg:ease-in-out lg:transform lg:translate-y-4 lg:opacity-0 lg:invisible lg:z-0 px-6 py-3 h-full overflow-y-auto scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
          <span class="relative inline-block text-3xl mt-4 tracking-widest font-medium mb-4">
            <span class="px-3 relative z-10">
              <a class="text-5xl">C</a>ERTIFICATES
            </span>
            <span class="h-6 w-6 absolute inset-0 z-15 bg-primary-700 dark:bg-primary-400 opacity-60"></span>
            <span class="h-3 w-4 absolute right-0 bottom-0 z-0 bg-primary-700 dark:bg-primary-400 opacity-60 pr-20"></span>
          </span>
          <section class="border-l-2 border-primary-700 dark:border-primary-400 list-none prose dark:prose-invert mx-auto pr-6">
              {{ partial "myTimeline.html" (dict
                "icon" "bolt"
                "header" "Proyek Dimulai"
                "badge" "2023"
                "subheader" "Tahap 1"
                "inner" (markdownify "Konten penjelasan timeline-nya di sini.")
              ) }}
              {{ partial "myTimeline.html" (dict
                "icon" "bolt"
                "header" "Proyek Dikerjakan"
                "badge" "2023"
                "subheader" "Tahap 2"
                "inner" (markdownify "Konten penjelasan timeline-nya di sini.")
              ) }}
              {{ partial "myTimeline.html" (dict
                "icon" "bolt"
                "header" "Proyek Selesai"
                "badge" "2023"
                "subheader" "Tahap 3"
                "inner" (markdownify "Konten penjelasan timeline-nya di sini.")
              ) }}
          </section>
        </div>
      </div>
    </div>
  </header>
</article>
<script>
function switchTab(activeTab) {
  const tabs = [1, 2, 3];
  tabs.forEach(tab => {
    const el = document.getElementById(`tab${tab}`);
    const btnEl = document.getElementById(`tabBtn${tab}`);
    if (tab === activeTab) {
      el.classList.remove('lg:translate-y-4', 'lg:opacity-0', 'lg:invisible', 'lg:z-0');
      el.classList.add('lg:translate-y-0', 'lg:opacity-100', 'lg:visible', 'lg:z-10');
      btnEl.classList.add('text-primary-700', 'dark:text-primary-400', 'border-primary-700','dark:border-primary-400');
    } else {
      el.classList.remove('tlg:ranslate-y-0', 'lg:opacity-100', 'lg:visible', 'lg:z-10');
      el.classList.add('lg:translate-y-4', 'lg:opacity-0', 'lg:invisible', 'lg:z-0');
      btnEl.classList.remove('text-primary-700', 'dark:text-primary-400', 'border-primary-700','dark:border-primary-400');
    }
  });
}
document.addEventListener("DOMContentLoaded", () => switchTab(1));
</script>
